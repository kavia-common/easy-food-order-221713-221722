{"is_source_file": true, "format": "TypeScript", "description": "This file defines services related to order creation and management in the frontend, including creating orders, storing the last order, and retrieving it from local storage. It interacts with cart data and manages order states.", "external_files": ["uuid", "@/types", "@/stores/cart"], "external_methods": ["uuidv4", "useCartStore"], "published": ["createOrder", "storeLastOrder", "getLastOrder"], "classes": [], "methods": [{"name": "export async function createOrder(draft: OrderDraft): Promise<CreatedOrder> { createOrder", "description": "Creates a mock order object from the current cart, assigns a unique ID, and persists it to local storage.", "scope": "", "scopeKind": ""}, {"name": "export function storeLastOrder(order: CreatedOrder) { storeLastOrder", "description": "Stores the provided order object as the last order in local storage.", "scope": "", "scopeKind": ""}, {"name": "export function getLastOrder(): CreatedOrder | null { getLastOrder", "description": "Retrieves the last order from local storage if available.", "scope": "", "scopeKind": ""}], "calls": ["uuidv4", "useCartStore", "window.localStorage.setItem", "window.localStorage.getItem", "JSON.stringify", "JSON.parse"], "search-terms": ["order creation", "local storage", "cart store", "order ID", "order retrieval"], "state": 2, "file_id": 57, "knowledge_revision": 252, "git_revision": "", "ctags": [{"_type": "tag", "name": "CreatedOrder", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/orders.ts", "pattern": "/^export type CreatedOrder = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "LAST_ORDER_KEY", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/orders.ts", "pattern": "/^const LAST_ORDER_KEY = 'last_order_receipt_v1'$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "OrderDraft", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/orders.ts", "pattern": "/^export type OrderDraft = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "cart", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/orders.ts", "pattern": "/^  const cart = useCartStore()$/", "language": "TypeScript", "kind": "constant", "scope": "createOrder", "scopeKind": "function"}, {"_type": "tag", "name": "createOrder", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/orders.ts", "pattern": "/^export async function createOrder(draft: OrderDraft): Promise<CreatedOrder> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "created", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/orders.ts", "pattern": "/^  const created: CreatedOrder = {$/", "language": "TypeScript", "kind": "constant", "scope": "createOrder", "scopeKind": "function"}, {"_type": "tag", "name": "getLastOrder", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/orders.ts", "pattern": "/^export function getLastOrder(): CreatedOrder | null {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/orders.ts", "pattern": "/^  const id = uuidv4()$/", "language": "TypeScript", "kind": "constant", "scope": "createOrder", "scopeKind": "function"}, {"_type": "tag", "name": "if", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/orders.ts", "pattern": "/^    if (typeof window !== 'undefined') {$/", "language": "TypeScript", "kind": "constant", "scope": "createOrder", "scopeKind": "function"}, {"_type": "tag", "name": "lines", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/orders.ts", "pattern": "/^    lines: cart.lines.map(l => ({ id: l.id, name: l.name, qty: l.qty, price: l.price })),$/", "language": "TypeScript", "kind": "constant", "scope": "createOrder", "scopeKind": "function"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/orders.ts", "pattern": "/^    const raw = window.localStorage.getItem(LAST_ORDER_KEY)$/", "language": "TypeScript", "kind": "constant", "scope": "getLastOrder", "scopeKind": "function"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/orders.ts", "pattern": "/^    status: 'pending',$/", "language": "TypeScript", "kind": "constant", "scope": "createOrder", "scopeKind": "function"}, {"_type": "tag", "name": "storeLastOrder", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/orders.ts", "pattern": "/^export function storeLastOrder(order: CreatedOrder) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "try", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/orders.ts", "pattern": "/^  try {$/", "language": "TypeScript", "kind": "constant", "scope": "createOrder", "scopeKind": "function"}], "hash": "daddc4819aaac291b745fcd6ab30e3f1", "format-version": 4, "code-base-name": "food_ordering_frontend", "filename": "food_ordering_frontend/src/services/orders.ts", "revision_history": [{"252": ""}]}