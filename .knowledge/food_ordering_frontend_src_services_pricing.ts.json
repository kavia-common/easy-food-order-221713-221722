{"is_source_file": true, "format": "TypeScript", "description": "This file provides utility functions for pricing calculations in a food ordering frontend, including subtotal, discount, tax, delivery fee, and total computations, as well as time-based helpers for rush hours and weekends.", "external_files": ["@/types", "@/services/coupons", "./pricingConfig"], "external_methods": ["Object.is", "Math.round", "Math.min", "Math.max", "Number.isFinite"], "published": ["safeRound2", "lineSubtotal", "couponDiscount", "computeTax", "isWeekend", "parseRushHours", "isRushHour", "computeDeliveryFee", "computeTotals"], "classes": [], "methods": [{"name": "safeRound2", "description": "Rounds a number to 2 decimal places, avoiding -0."}, {"name": "lineSubtotal", "description": "Calculates the subtotal for a list of cart lines by summing price * quantity."}, {"name": "couponDiscount", "description": "Calculates discount amount based on subtotal and coupon, supporting percent and fixed discounts."}, {"name": "computeTax", "description": "Calculates tax on a taxable amount given a tax rate."}, {"name": "parseRushHours", "description": "Parses rush hour time ranges into minute-of-day tuples."}, {"name": "isRushHour", "description": "Determines if a given date/time falls within rush hours."}, {"name": "computeDeliveryFee", "description": "Calculates delivery fee based on date, cart contents, and pricing options, considering rush and weekend surcharges."}, {"name": "computeTotals", "description": "Computes total pricing details including subtotal, discount, tax, delivery fee, and total."}], "calls": ["Math.round", "Math.min", "Math.max", "Object.is"], "search-terms": ["pricing utilities", "rush hour calculation", "delivery fee computation", "cart subtotal", "discount calculation"], "state": 2, "file_id": 53, "knowledge_revision": 290, "git_revision": "6122d2fdc0c85ff80fe1fdd913b925f6ea156f24", "revision_history": [{"233": ""}, {"246": "59eba850def3898853840af7e03ece5eabf7887a"}, {"290": "6122d2fdc0c85ff80fe1fdd913b925f6ea156f24"}], "ctags": [], "filename": "food_ordering_frontend/src/services/pricing.ts", "format-version": 4, "code-base-name": "https://github.com/kavia-common/easy-food-order-221713-221722.git:kavia-main"}