{"is_source_file": true, "format": "TypeScript", "description": "This file defines a Pinia store for managing reviews related to restaurants and delivery persons, including loading, submitting, and optimistic updates with rollback.", "external_files": ["@/services/ratingsApi", "@/types/reviews"], "external_methods": ["fetchDeliveryReviews", "fetchRestaurantReviews", "submitDeliveryReview", "submitRestaurantReview"], "published": ["useReviewsStore"], "classes": [{"name": "ReviewsState", "description": "Interface defining the shape of the store's state, including review summaries, recent reviews, loading states, and errors."}], "methods": [{"name": "setLoading", "description": "Sets the loading state for a given key."}, {"name": "setError", "description": "Sets an error message for a given key."}, {"name": "loadRestaurantReviews", "description": "Loads and caches restaurant review summaries and recent reviews, with error handling."}, {"name": "submitRestaurantReviewOptimistic", "description": "Performs an optimistic update for submitting a restaurant review, with rollback on failure."}, {"name": "loadDeliveryReviewsByPerson", "description": "Loads delivery reviews for a specific delivery person, including summary and recent reviews."}, {"name": "loadDeliveryReviewByOrder", "description": "Loads a delivery review for a specific order."}, {"name": "submitDeliveryReviewOptimistic", "description": "Performs an optimistic update for submitting a delivery review, with rollback on failure."}], "calls": ["fetchRestaurantReviews", "fetchDeliveryReviews", "submitRestaurantReview", "submitDeliveryReview"], "search-terms": ["Pinia store", "reviews management", "optimistic updates", "restaurant reviews", "delivery reviews", "reviews store"], "state": 2, "file_id": 31, "knowledge_revision": 316, "git_revision": "a322236a192e1b5a8a0725a1bcff728842a3d10b", "revision_history": [{"93": ""}, {"97": ""}, {"98": ""}, {"316": "a322236a192e1b5a8a0725a1bcff728842a3d10b"}], "ctags": [], "filename": "food_ordering_frontend/src/stores/reviews.ts", "format-version": 4, "code-base-name": "https://github.com/kavia-common/easy-food-order-221713-221722.git:kavia-main"}