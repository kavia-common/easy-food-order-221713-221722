{"is_source_file": true, "format": "TypeScript", "description": "This file provides functions to retrieve runtime configuration settings related to API base URL and WebSocket URL, primarily fetching environment variables and constructing URLs accordingly.", "external_files": [], "external_methods": [], "published": ["getApiBase", "getWsUrl", "shouldUseWebsocket"], "classes": [], "methods": [{"name": "export function getApiBase(): string { getApiBase", "description": "Retrieves the backend API base URL from environment variables, falling back to alternatives if not set.", "scope": "", "scopeKind": ""}, {"name": "export function getWsUrl(): string | undefined { getWsUrl", "description": "Determines the WebSocket URL based on environment variables or derives it from the API base URL.", "scope": "", "scopeKind": ""}, {"name": "export function shouldUseWebsocket(): boolean { shouldUseWebsocket", "description": "Indicates whether WebSocket should be used based on environment variables and the environment state.", "scope": "", "scopeKind": ""}], "calls": ["import.meta.env.VITE_API_BASE", "import.meta.env.VITE_BACKEND_URL", "import.meta.env.VITE_WS_URL", "getApiBase", "new URL()", "import.meta.env.VITE_NODE_ENV"], "search-terms": ["runtimeConfig", "VITE_API_BASE", "VITE_BACKEND_URL", "VITE_WS_URL", "WebSocket URL", "environment variables", "getApiBase", "getWsUrl", "shouldUseWebsocket"], "state": 2, "file_id": 48, "knowledge_revision": 215, "git_revision": "abecf9ced63be25963010603f6ddbe44f472819d", "revision_history": [{"195": ""}, {"210": "abecf9ced63be25963010603f6ddbe44f472819d"}, {"215": "abecf9ced63be25963010603f6ddbe44f472819d"}], "ctags": [{"_type": "tag", "name": "api", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/runtimeConfig.ts", "pattern": "/^  const api = getApiBase()$/", "language": "TypeScript", "kind": "constant", "scope": "getWsUrl", "scopeKind": "function"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/runtimeConfig.ts", "pattern": "/^  const base = import.meta.env.VITE_API_BASE || import.meta.env.VITE_BACKEND_URL || ''$/", "language": "TypeScript", "kind": "constant", "scope": "getApiBase", "scopeKind": "function"}, {"_type": "tag", "name": "disabledByEnv", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/runtimeConfig.ts", "pattern": "/^  const disabledByEnv = String(env.VITE_NODE_ENV || '').toLowerCase() === 'test'$/", "language": "TypeScript", "kind": "constant", "scope": "shouldUseWebsocket", "scopeKind": "function"}, {"_type": "tag", "name": "env", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/runtimeConfig.ts", "pattern": "/^  const env = (import.meta as any).env || {}$/", "language": "TypeScript", "kind": "constant", "scope": "shouldUseWebsocket", "scopeKind": "function"}, {"_type": "tag", "name": "getApiBase", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/runtimeConfig.ts", "pattern": "/^export function getApiBase(): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getWsUrl", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/runtimeConfig.ts", "pattern": "/^export function getWsUrl(): string | undefined {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "hasWs", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/runtimeConfig.ts", "pattern": "/^  const hasWs = !!(env.VITE_WS_URL || getWsUrl())$/", "language": "TypeScript", "kind": "constant", "scope": "shouldUseWebsocket", "scopeKind": "function"}, {"_type": "tag", "name": "shouldUseWebsocket", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/runtimeConfig.ts", "pattern": "/^export function shouldUseWebsocket(): boolean {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/runtimeConfig.ts", "pattern": "/^    const url = new URL(api, typeof window !== 'undefined' ? window.location.origin : 'http:\\/\\//", "language": "TypeScript", "kind": "constant", "scope": "getWsUrl", "scopeKind": "function"}, {"_type": "tag", "name": "ws", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/runtimeConfig.ts", "pattern": "/^  const ws = (import.meta as any).env?.VITE_WS_URL as string | undefined$/", "language": "TypeScript", "kind": "constant", "scope": "getWsUrl", "scopeKind": "function"}, {"_type": "tag", "name": "wsUrl", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/runtimeConfig.ts", "pattern": "/^    const wsUrl = url.toString().replace(\\/^http\\/, 'ws')$/", "language": "TypeScript", "kind": "constant", "scope": "getWsUrl", "scopeKind": "function"}], "hash": "614a617583870efec7f80b7beca81903", "format-version": 4, "code-base-name": "food_ordering_frontend", "filename": "food_ordering_frontend/src/services/runtimeConfig.ts"}