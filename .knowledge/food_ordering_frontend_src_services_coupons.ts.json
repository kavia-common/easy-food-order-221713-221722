{"is_source_file": true, "format": "TypeScript", "description": "This file defines types, functions, and logic for handling coupons in a food ordering frontend application, including validation, expiration check, and mock data.", "external_files": ["./pricing"], "external_methods": ["fetch"], "published": ["CouponBase", "PercentCoupon", "FixedCoupon", "Coupon", "CouponValidation", "isExpired", "validateCoupon", "getMockCoupons", "normalizeCoupon", "couponMeetsSubtotal"], "classes": [], "methods": [{"name": "isExpired", "description": "Checks if a coupon's expiry date has passed."}, {"name": "validateCoupon", "description": "Validates a coupon code, optionally using backend API, with fallback to mock data."}, {"name": "getMockCoupons", "description": "Provides mock coupon data for development and testing."}, {"name": "normalizeCoupon", "description": "Ensures coupon values are within valid ranges and properly rounded."}, {"name": "couponMeetsSubtotal", "description": "Checks if a subtotal meets the minimum required for a coupon."}], "calls": ["fetch", "new Date", "import.meta.env.VITE_API_BASE", "encodeURIComponent", "normalizeCoupon", "isExpired"], "search-terms": ["coupons", "coupon validation", "coupon expiration", "mock coupons", "coupon types", "frontend coupon logic"], "state": 2, "file_id": 54, "knowledge_revision": 271, "git_revision": "59eba850def3898853840af7e03ece5eabf7887a", "revision_history": [{"235": ""}, {"271": "59eba850def3898853840af7e03ece5eabf7887a"}], "ctags": [], "filename": "food_ordering_frontend/src/services/coupons.ts", "format-version": 4, "code-base-name": "https://github.com/kavia-common/easy-food-order-221713-221722.git:kavia-main"}