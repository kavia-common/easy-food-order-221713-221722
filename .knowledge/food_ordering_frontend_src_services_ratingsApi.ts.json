{"is_source_file": true, "format": "TypeScript", "description": "This file provides API functions for fetching and submitting restaurant and delivery reviews, including localStorage mock fallbacks and network request handling.", "external_files": ["./api", "@/types/reviews"], "external_methods": ["getApiBase", "fetch"], "published": ["fetchRestaurantReviews", "submitRestaurantReview", "fetchDeliveryReviews", "submitDeliveryReview"], "classes": [], "methods": [{"name": "computeSummary", "description": "Calculates average rating, total count, and breakdown of ratings from a list of reviews."}, {"name": "tryFetch", "description": "Attempts to fetch data from network; falls back to null on failure."}, {"name": "readRestaurantMap", "description": "Reads restaurant reviews map from localStorage."}, {"name": "writeRestaurantMap", "description": "Writes restaurant reviews map to localStorage."}, {"name": "readDeliveryByPersonMap", "description": "Reads delivery reviews by person map from localStorage."}, {"name": "writeDeliveryByPersonMap", "description": "Writes delivery reviews by person map to localStorage."}, {"name": "readDeliveryByOrderMap", "description": "Reads delivery reviews by order map from localStorage."}, {"name": "writeDeliveryByOrderMap", "description": "Writes delivery reviews by order map to localStorage."}, {"name": "cryptoRandomId", "description": "Generates a unique ID for reviews, using crypto if available."}], "calls": ["getApiBase", "fetch", "JSON.parse", "JSON.stringify", "safeGetItem", "safeSetItem"], "search-terms": ["ratingsApi", "reviews", "localStorage", "fetch", "submitReview", "deliveryReviews", "restaurantReviews"], "state": 2, "file_id": 30, "knowledge_revision": 318, "git_revision": "abecf9ced63be25963010603f6ddbe44f472819d", "revision_history": [{"91": ""}, {"96": ""}, {"99": ""}, {"101": ""}, {"102": ""}, {"202": "abecf9ced63be25963010603f6ddbe44f472819d"}, {"318": "abecf9ced63be25963010603f6ddbe44f472819d"}], "ctags": [], "filename": "food_ordering_frontend/src/services/ratingsApi.ts", "format-version": 4, "code-base-name": "https://github.com/kavia-common/easy-food-order-221713-221722.git:kavia-main"}