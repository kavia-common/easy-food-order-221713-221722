{"is_source_file": true, "format": "TypeScript", "description": "This file defines a Pinia store for managing favorite restaurants and items in a Vue.js application, including persistence to localStorage, with functions to add, remove, toggle, and check favorites.", "external_files": ["@/types"], "external_methods": ["defineStore", "computed", "ref", "watch"], "published": ["useFavoritesStore"], "classes": [], "methods": [{"name": "canUseStorage", "description": "Checks if window and localStorage are available for SSR compatibility."}, {"name": "loadPersisted", "description": "Loads persisted favorites state from localStorage."}, {"name": "createDebouncedSaver", "description": "Creates a debounced function to save state to localStorage."}, {"name": "isRestaurantFav", "description": "Checks if a restaurant ID is marked as favorite."}, {"name": "isItemFav", "description": "Checks if an item ID is marked as favorite."}, {"name": "addRestaurant", "description": "Adds a restaurant to favorites."}, {"name": "removeRestaurant", "description": "Removes a restaurant from favorites."}, {"name": "toggleRestaurant", "description": "Toggles the favorite status of a restaurant."}, {"name": "addItem", "description": "Adds an item to favorites."}, {"name": "removeItem", "description": "Removes an item from favorites."}, {"name": "toggleItem", "description": "Toggles the favorite status of an item."}, {"name": "persistNow", "description": "Immediately saves the current favorites state to localStorage."}], "calls": ["window.localStorage.getItem", "window.localStorage.setItem", "window.clearTimeout", "window.setTimeout", "Object.keys", "Object.values", "JSON.parse", "JSON.stringify", "delete"], "search-terms": ["Pinia favorites store", "localStorage persistence", "favorites management", "restaurant favorites", "menu item favorites", "favorites state"], "state": 2, "file_id": 23, "knowledge_revision": 276, "git_revision": "a322236a192e1b5a8a0725a1bcff728842a3d10b", "revision_history": [{"63": ""}, {"100": "639d0e7d3948f2c942493fe6359c8247bac0bdb5"}, {"276": "a322236a192e1b5a8a0725a1bcff728842a3d10b"}], "ctags": [], "filename": "food_ordering_frontend/src/stores/favorites.ts", "format-version": 4, "code-base-name": "https://github.com/kavia-common/easy-food-order-221713-221722.git:kavia-main"}