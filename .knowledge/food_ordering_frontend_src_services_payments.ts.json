{"is_source_file": true, "format": "TypeScript", "description": "This file provides payment service functions for a food ordering frontend, including payment method availability, initiating payments via UPI and card, tokenizing cards, and handling cash on delivery. It also manages environment configuration for payment options.", "external_files": ["uuid"], "external_methods": ["uuidv4"], "published": ["getAvailableMethods", "initPayment", "startUPIPayment", "startCardPayment", "selectCOD", "tokenizeCard", "buildUPIQRCodeData", "getUPIDefaults"], "classes": [], "methods": [{"name": "readEnv", "description": "Reads environment variables to configure payment options."}, {"name": "getAvailableMethods", "description": "Returns available payment methods based on environment configuration."}, {"name": "initPayment", "description": "Initializes a mock payment session for an order draft."}, {"name": "buildUPILink", "description": "Constructs a UPI payment link with provided parameters."}, {"name": "startUPIPayment", "description": "Starts a mock UPI payment, returning a deeplink and pending status."}, {"name": "startCardPayment", "description": "Starts a mock card payment, simulating success or failure."}, {"name": "selectCOD", "description": "Selects Cash on Delivery as payment method, always succeeds in mock."}, {"name": "tokenizeCard", "description": "Mocks client-side card tokenization, validating card details."}, {"name": "buildUPIQRCodeData", "description": "Returns the UPI link content for QR code encoding."}, {"name": "getUPIDefaults", "description": "Provides default VPA and merchant name for UI display."}], "calls": ["uuidv4", "Math.max", "Math.round", "encodeURIComponent", "setTimeout", "Math.random"], "search-terms": ["payment", "UPI", "card", "environment", "mock", "tokenization", "payment session", "payment methods", "food ordering"], "state": 2, "file_id": 56, "knowledge_revision": 311, "git_revision": "74c247dcb12e0f2bfcb8735f26b099ab930dcf55", "revision_history": [{"250": ""}, {"311": "74c247dcb12e0f2bfcb8735f26b099ab930dcf55"}], "ctags": [], "filename": "food_ordering_frontend/src/services/payments.ts", "format-version": 4, "code-base-name": "https://github.com/kavia-common/easy-food-order-221713-221722.git:kavia-main"}