{"is_source_file": true, "format": "TypeScript", "description": "This file contains a client-side API service for managing food order data, including functions for fetching order history, individual orders, invoices, and managing local storage synchronization. It includes utility functions for calculations, local storage handling, and mock data seeding.", "external_files": ["@/types/orders", "./couponsHelper"], "external_methods": ["isCouponValid"], "published": ["fetchOrderHistory", "fetchOrderById", "fetchInvoice", "appendOrderToHistory", "updateOrderStatus"], "classes": [], "methods": [{"name": "function safeWindow(): Window | undefined { safeWindow", "description": "Checks if window object is available (for SSR guard).", "scope": "", "scopeKind": ""}, {"name": "function getApiBase(): string | undefined { getApiBase", "description": "Retrieves API base URL from environment variables.", "scope": "", "scopeKind": ""}, {"name": "function readLocal<T>(key: string): T | null { readLocal", "description": "Reads and parses JSON data from localStorage.", "scope": "", "scopeKind": ""}, {"name": "function writeLocal<T>(key: string, value: T): void { writeLocal", "description": "Stringifies and writes data to localStorage.", "scope": "", "scopeKind": ""}, {"name": "function currency(amount: number, currency = 'USD') { currency", "description": "Creates a currency object with amount and currency code.", "scope": "", "scopeKind": ""}, {"name": "function calcTotals(lines: OrderLine[], couponCodes?: string[]): OrderTotals { calcTotals", "description": "Calculates subtotal, discounts, tax, delivery fee, and total for order lines, considering coupons.", "scope": "", "scopeKind": ""}, {"name": "function seedMockHistoryIfEmpty() { seedMockHistoryIfEmpty", "description": "Seeds mock order history data into localStorage if none exists.", "scope": "", "scopeKind": ""}, {"name": "function ensureSeeded() { ensureSeeded", "description": "Ensures that mock data is seeded into localStorage.", "scope": "", "scopeKind": ""}, {"name": "async function fetchJson<T>(url: string): Promise<T> { fetchJson", "description": "Fetches JSON data from a URL, throws on HTTP errors.", "scope": "", "scopeKind": ""}, {"name": "export async function fetchOrderHistory(): Promise<OrderSummary[]> { fetchOrderHistory", "description": "Fetches order summaries from backend or localStorage.", "scope": "", "scopeKind": ""}, {"name": "export async function fetchOrderById(orderId: string): Promise<OrderDetail | null> { fetchOrderById", "description": "Fetches detailed order info by ID from backend or localStorage.", "scope": "", "scopeKind": ""}, {"name": "export async function fetchInvoice(orderId: string): Promise<Invoice | null> { fetchInvoice", "description": "Fetches invoice data either from backend or constructs a fallback invoice.", "scope": "", "scopeKind": ""}, {"name": "export function appendOrderToHistory(newOrder: OrderDetail): void { appendOrderToHistory", "description": "Adds a new order to localMock storage for immediate visibility.", "scope": "", "scopeKind": ""}, {"name": "export function updateOrderStatus(orderId: string, status: OrderDetail['status']) { updateOrderStatus", "description": "Updates order status in localMock storage.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "JSON.parse", "JSON.stringify", "isCouponValid"], "search-terms": ["ordersApi", "localStorage mock", "OrderDetail", "OrderSummary", "Invoice", "fetchOrderHistory", "fetchOrderById", "fetchInvoice", "seedMockHistory"], "state": 2, "file_id": 26, "knowledge_revision": 192, "git_revision": "6e54681faac87e0a9d70cc3e42fc4f1b384a3811", "revision_history": [{"78": ""}, {"86": ""}, {"192": "6e54681faac87e0a9d70cc3e42fc4f1b384a3811"}], "ctags": [{"_type": "tag", "name": "STORAGE_KEY", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^const STORAGE_KEY = 'app.orderHistory.v1';$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "addr1", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const addr1: AddressSnapshot = {$/", "language": "TypeScript", "kind": "constant", "scope": "seedMockHistoryIfEmpty", "scopeKind": "function"}, {"_type": "tag", "name": "amount", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const lines: { description: string; quantity: number; unitPrice: { currency: string; amount: n/", "language": "TypeScript", "kind": "constant", "scope": "fetchInvoice", "scopeKind": "function"}, {"_type": "tag", "name": "appendOrderToHistory", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^export function appendOrderToHistory(newOrder: OrderDetail): void {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const base = getApiBase();$/", "language": "TypeScript", "kind": "constant", "scope": "fetchInvoice", "scopeKind": "function"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const base = getApiBase();$/", "language": "TypeScript", "kind": "constant", "scope": "fetchOrderById", "scopeKind": "function"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const base = getApiBase();$/", "language": "TypeScript", "kind": "constant", "scope": "fetchOrderHistory", "scopeKind": "function"}, {"_type": "tag", "name": "billedTo", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const billedTo: AddressSnapshot =$/", "language": "TypeScript", "kind": "constant", "scope": "fetchInvoice", "scopeKind": "function"}, {"_type": "tag", "name": "calcTotals", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^function calcTotals(lines: OrderLine[], couponCodes?: string[]): OrderTotals {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "currency", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^function currency(amount: number, currency = 'USD') {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^      const data = await fetchJson<Invoice>(`${base}\\/orders\\/${orderId}\\/invoice`);$/", "language": "TypeScript", "kind": "constant", "scope": "fetchInvoice", "scopeKind": "function"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^      const data = await fetchJson<OrderDetail>(`${base}\\/orders\\/${orderId}`);$/", "language": "TypeScript", "kind": "constant", "scope": "fetchOrderById", "scopeKind": "function"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^      const data = await fetchJson<OrderSummary[]>(`${base}\\/orders`);$/", "language": "TypeScript", "kind": "constant", "scope": "fetchOrderHistory", "scopeKind": "function"}, {"_type": "tag", "name": "deliveryFeeAmt", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const deliveryFeeAmt = +(5).toFixed(2); \\/\\/ flat for mock$/", "language": "TypeScript", "kind": "constant", "scope": "calcTotals", "scopeKind": "function"}, {"_type": "tag", "name": "detail", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const detail = await fetchOrderById(orderId);$/", "language": "TypeScript", "kind": "constant", "scope": "fetchInvoice", "scopeKind": "function"}, {"_type": "tag", "name": "details", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const details: Record<string, OrderDetail> = {$/", "language": "TypeScript", "kind": "constant", "scope": "seedMockHistoryIfEmpty", "scopeKind": "function"}, {"_type": "tag", "name": "discountAmt", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const taxable = subtotalAmt - discountAmt;$/", "language": "TypeScript", "kind": "constant", "scope": "calcTotals", "scopeKind": "function"}, {"_type": "tag", "name": "earlier", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const earlier = new Date(now.getTime() - 1000 * 60 * 60 * 24 * 3);$/", "language": "TypeScript", "kind": "constant", "scope": "seedMockHistoryIfEmpty", "scopeKind": "function"}, {"_type": "tag", "name": "ensureSeeded", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^function ensureSeeded() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "env", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const env = (import.meta as unknown as { env?: Record<string, unknown> }).env || {};$/", "language": "TypeScript", "kind": "constant", "scope": "getApiBase", "scopeKind": "function"}, {"_type": "tag", "name": "existing", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const existing = readLocal<{ summaries: OrderSummary[]; details: Record<string, OrderDetail> }/", "language": "TypeScript", "kind": "constant", "scope": "seedMockHistoryIfEmpty", "scopeKind": "function"}, {"_type": "tag", "name": "fetchInvoice", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^export async function fetchInvoice(orderId: string): Promise<Invoice | null> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "fetchJson", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^async function fetchJson<T>(url: string): Promise<T> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "fetchOrderById", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^export async function fetchOrderById(orderId: string): Promise<OrderDetail | null> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "fetchOrderHistory", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^export async function fetchOrderHistory(): Promise<OrderSummary[]> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getApiBase", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^function getApiBase(): string | undefined {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "lineCount", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^    lineCount: newOrder.lineCount,$/", "language": "TypeScript", "kind": "constant", "scope": "appendOrderToHistory", "scopeKind": "function"}, {"_type": "tag", "name": "lineTotal", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const lines: { description: string; quantity: number; unitPrice: { currency: string; amount: n/", "language": "TypeScript", "kind": "constant", "scope": "fetchInvoice", "scopeKind": "function"}, {"_type": "tag", "name": "lines", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const lines: { description: string; quantity: number; unitPrice: { currency: string; amount: n/", "language": "TypeScript", "kind": "constant", "scope": "fetchInvoice", "scopeKind": "function"}, {"_type": "tag", "name": "lines1", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const lines1: OrderLine[] = [$/", "language": "TypeScript", "kind": "constant", "scope": "seedMockHistoryIfEmpty", "scopeKind": "function"}, {"_type": "tag", "name": "lines2", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const lines2: OrderLine[] = [$/", "language": "TypeScript", "kind": "constant", "scope": "seedMockHistoryIfEmpty", "scopeKind": "function"}, {"_type": "tag", "name": "local", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const local = readLocal<{ summaries: OrderSummary[]; details: Record<string, OrderDetail> }>(S/", "language": "TypeScript", "kind": "constant", "scope": "appendOrderToHistory", "scopeKind": "function"}, {"_type": "tag", "name": "local", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const local = readLocal<{ summaries: OrderSummary[]; details: Record<string, OrderDetail> }>(S/", "language": "TypeScript", "kind": "constant", "scope": "fetchOrderById", "scopeKind": "function"}, {"_type": "tag", "name": "local", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const local = readLocal<{ summaries: OrderSummary[]; details: Record<string, OrderDetail> }>(S/", "language": "TypeScript", "kind": "constant", "scope": "fetchOrderHistory", "scopeKind": "function"}, {"_type": "tag", "name": "local", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const local = readLocal<{ summaries: OrderSummary[]; details: Record<string, OrderDetail> }>(S/", "language": "TypeScript", "kind": "constant", "scope": "updateOrderStatus", "scopeKind": "function"}, {"_type": "tag", "name": "now", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const now = new Date();$/", "language": "TypeScript", "kind": "constant", "scope": "seedMockHistoryIfEmpty", "scopeKind": "function"}, {"_type": "tag", "name": "order1", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const order1: OrderDetail = {$/", "language": "TypeScript", "kind": "constant", "scope": "seedMockHistoryIfEmpty", "scopeKind": "function"}, {"_type": "tag", "name": "order1", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const summaries: OrderSummary[] = [order2, order1].map((o) => ({$/", "language": "TypeScript", "kind": "constant", "scope": "seedMockHistoryIfEmpty", "scopeKind": "function"}, {"_type": "tag", "name": "order2", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^    [order2.id]: order2,$/", "language": "TypeScript", "kind": "constant", "scope": "seedMockHistoryIfEmpty", "scopeKind": "function"}, {"_type": "tag", "name": "order2", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const order2: OrderDetail = {$/", "language": "TypeScript", "kind": "constant", "scope": "seedMockHistoryIfEmpty", "scopeKind": "function"}, {"_type": "tag", "name": "pay1", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const pay1: PaymentSnapshot = {$/", "language": "TypeScript", "kind": "constant", "scope": "seedMockHistoryIfEmpty", "scopeKind": "function"}, {"_type": "tag", "name": "placedAt", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^    placedAt: newOrder.placedAt,$/", "language": "TypeScript", "kind": "constant", "scope": "appendOrderToHistory", "scopeKind": "function"}, {"_type": "tag", "name": "quantity", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const lines: { description: string; quantity: number; unitPrice: { currency: string; amount: n/", "language": "TypeScript", "kind": "constant", "scope": "fetchInvoice", "scopeKind": "function"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^    const raw = w.localStorage.getItem(key);$/", "language": "TypeScript", "kind": "constant", "scope": "readLocal", "scopeKind": "function"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const raw = (env.VITE_BACKEND_URL as string | undefined) || (env.VITE_API_BASE as string | und/", "language": "TypeScript", "kind": "constant", "scope": "getApiBase", "scopeKind": "function"}, {"_type": "tag", "name": "readLocal", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^function readLocal<T>(key: string): T | null {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const res = await fetch(url, { credentials: 'include' });$/", "language": "TypeScript", "kind": "constant", "scope": "fetchJson", "scopeKind": "function"}, {"_type": "tag", "name": "restaurantId", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^    restaurantId: newOrder.restaurantId,$/", "language": "TypeScript", "kind": "constant", "scope": "appendOrderToHistory", "scopeKind": "function"}, {"_type": "tag", "name": "restaurantName", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^    restaurantName: newOrder.restaurantName,$/", "language": "TypeScript", "kind": "constant", "scope": "appendOrderToHistory", "scopeKind": "function"}, {"_type": "tag", "name": "safeWindow", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^function safeWindow(): Window | undefined {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "seedMockHistoryIfEmpty", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^function seedMockHistoryIfEmpty() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^    status: newOrder.status,$/", "language": "TypeScript", "kind": "constant", "scope": "appendOrderToHistory", "scopeKind": "function"}, {"_type": "tag", "name": "subtotalAmt", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const subtotalAmt = lines.reduce((sum, l) => sum + l.unitPrice.amount * l.quantity, 0);$/", "language": "TypeScript", "kind": "constant", "scope": "calcTotals", "scopeKind": "function"}, {"_type": "tag", "name": "summaries", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const summaries: OrderSummary[] = [order2, order1].map((o) => ({$/", "language": "TypeScript", "kind": "constant", "scope": "seedMockHistoryIfEmpty", "scopeKind": "function"}, {"_type": "tag", "name": "summary", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const summary: OrderSummary = {$/", "language": "TypeScript", "kind": "constant", "scope": "appendOrderToHistory", "scopeKind": "function"}, {"_type": "tag", "name": "taxAmt", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const taxAmt = +(taxable * 0.08).toFixed(2);$/", "language": "TypeScript", "kind": "constant", "scope": "calcTotals", "scopeKind": "function"}, {"_type": "tag", "name": "taxable", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const taxable = subtotalAmt - discountAmt;$/", "language": "TypeScript", "kind": "constant", "scope": "calcTotals", "scopeKind": "function"}, {"_type": "tag", "name": "total", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^    total: newOrder.total,$/", "language": "TypeScript", "kind": "constant", "scope": "appendOrderToHistory", "scopeKind": "function"}, {"_type": "tag", "name": "totalAmt", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const totalAmt = +(taxable + taxAmt + deliveryFeeAmt).toFixed(2);$/", "language": "TypeScript", "kind": "constant", "scope": "calcTotals", "scopeKind": "function"}, {"_type": "tag", "name": "totals", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const totals = calcTotals(detail.lines, detail.couponCodes);$/", "language": "TypeScript", "kind": "constant", "scope": "fetchInvoice", "scopeKind": "function"}, {"_type": "tag", "name": "totals1", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const totals1 = calcTotals(lines1, ['WELCOME10']);$/", "language": "TypeScript", "kind": "constant", "scope": "seedMockHistoryIfEmpty", "scopeKind": "function"}, {"_type": "tag", "name": "totals2", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const totals2 = calcTotals(lines2);$/", "language": "TypeScript", "kind": "constant", "scope": "seedMockHistoryIfEmpty", "scopeKind": "function"}, {"_type": "tag", "name": "unitPrice", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const lines: { description: string; quantity: number; unitPrice: { currency: string; amount: n/", "language": "TypeScript", "kind": "constant", "scope": "fetchInvoice", "scopeKind": "function"}, {"_type": "tag", "name": "updateOrderStatus", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^export function updateOrderStatus(orderId: string, status: OrderDetail['status']) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "valid", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^    const valid = couponCodes.find((c) => isCouponValid(c));$/", "language": "TypeScript", "kind": "constant", "scope": "calcTotals", "scopeKind": "function"}, {"_type": "tag", "name": "w", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const w = safeWindow();$/", "language": "TypeScript", "kind": "constant", "scope": "ensureSeeded", "scopeKind": "function"}, {"_type": "tag", "name": "w", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const w = safeWindow();$/", "language": "TypeScript", "kind": "constant", "scope": "readLocal", "scopeKind": "function"}, {"_type": "tag", "name": "w", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^  const w = safeWindow();$/", "language": "TypeScript", "kind": "constant", "scope": "writeLocal", "scopeKind": "function"}, {"_type": "tag", "name": "writeLocal", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/ordersApi.ts", "pattern": "/^function writeLocal<T>(key: string, value: T): void {$/", "language": "TypeScript", "kind": "function"}], "hash": "d4aae9adb150d47af09bafe0150739e1", "format-version": 4, "code-base-name": "food_ordering_frontend", "filename": "food_ordering_frontend/src/services/ordersApi.ts"}