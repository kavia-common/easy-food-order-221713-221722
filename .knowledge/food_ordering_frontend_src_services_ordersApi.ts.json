{"is_source_file": true, "format": "TypeScript", "description": "This file provides API functions for managing order data, including fetching order history, fetching individual orders and invoices, appending new orders, and updating order status. It also includes local storage mock data seeding and utility functions.", "external_files": ["@/types/orders", "./couponsHelper", "./runtimeConfig"], "external_methods": ["isCouponValid", "getApiBase"], "published": ["fetchOrderHistory", "fetchOrderById", "fetchInvoice", "appendOrderToHistory", "updateOrderStatus"], "classes": [], "methods": [{"name": "safeWindow", "description": "Returns the window object if available, otherwise undefined."}, {"name": "readLocal", "description": "Reads and parses JSON data from localStorage for a given key."}, {"name": "writeLocal", "description": "Stringifies and writes data to localStorage under a given key."}, {"name": "currency", "description": "Creates a currency object with amount and currency code."}, {"name": "calcTotals", "description": "Calculates order totals including subtotal, discount, tax, delivery fee, and total based on order lines and coupon codes."}, {"name": "seedMockHistoryIfEmpty", "description": "Seeds mock order history data into localStorage if none exists."}, {"name": "ensureSeeded", "description": "Ensures mock data is seeded if localStorage is empty."}, {"name": "fetchJson", "description": "Performs a fetch request and parses JSON response, throwing on HTTP errors."}], "calls": ["getApiBase", "fetchJson", "isCouponValid"], "search-terms": ["ordersApi", "order history", "order details", "invoice generation", "local storage mock", "order seeding", "order update"], "state": 2, "file_id": 26, "knowledge_revision": 302, "git_revision": "abecf9ced63be25963010603f6ddbe44f472819d", "revision_history": [{"78": ""}, {"86": ""}, {"192": "6e54681faac87e0a9d70cc3e42fc4f1b384a3811"}, {"199": "ef85c21ea4ed8dfbec99666038bc8f94558191b0"}, {"302": "abecf9ced63be25963010603f6ddbe44f472819d"}], "ctags": [], "filename": "food_ordering_frontend/src/services/ordersApi.ts", "format-version": 4, "code-base-name": "https://github.com/kavia-common/easy-food-order-221713-221722.git:kavia-main"}