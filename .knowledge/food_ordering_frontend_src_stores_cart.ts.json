{"is_source_file": true, "format": "TypeScript", "description": "This file defines a Pinia store for managing a shopping cart in a Vue.js frontend. It includes state management for cart items, tax rate, persistent storage via localStorage, and methods to manipulate cart contents.", "external_files": ["vue", "@/types"], "external_methods": ["defineStore", "computed", "ref", "watch"], "published": ["useCartStore"], "classes": [], "methods": [{"name": "function canUseStorage(): boolean { canUseStorage", "description": "Checks if localStorage can be used in the current environment.", "scope": "", "scopeKind": ""}, {"name": "function loadPersisted(): State | null { loadPersisted", "description": "Loads cart state from localStorage if available.", "scope": "", "scopeKind": ""}, {"name": "function addItem(item: FoodItem, qty = 1) { addItem", "description": "Adds a food item to the cart or increases its quantity.", "scope": "", "scopeKind": ""}, {"name": "function updateQty(id: string, qty: number) { updateQty", "description": "Updates the quantity of a cart line item, removes it if quantity is less than or equal to zero.", "scope": "", "scopeKind": ""}, {"name": "removeItem", "description": "Removes a specific item from the cart."}, {"name": "clear", "description": "Clears all items from the cart."}, {"name": "persist", "description": "Saves the current cart state to localStorage."}], "calls": ["loadPersisted", "canUseStorage", "JSON.parse", "localStorage.getItem", "localStorage.setItem", "JSON.stringify", "lines.value.find", "lines.value.splice", "lines.value.push", "lines.value.findIndex", "watch"], "search-terms": ["pinia cart store", "localStorage persistence", "Vue useCartStore", "cart management", "shopping cart state"], "state": 2, "file_id": 22, "knowledge_revision": 66, "git_revision": "fa51b25a5136c2a213cbe729e4337be0c6b04b4d", "revision_history": [{"47": ""}, {"66": "fa51b25a5136c2a213cbe729e4337be0c6b04b4d"}], "ctags": [{"_type": "tag", "name": "STORAGE_KEY", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/stores/cart.ts", "pattern": "/^const STORAGE_KEY = 'cart_state_v1'$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "State", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/stores/cart.ts", "pattern": "/^type State = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "addItem", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/stores/cart.ts", "pattern": "/^  function addItem(item: FoodItem, qty = 1) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "canUseStorage", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/stores/cart.ts", "pattern": "/^function canUseStorage(): boolean {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "existing", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/stores/cart.ts", "pattern": "/^    const existing = lines.value.find((l) => l.id === item.id)$/", "language": "TypeScript", "kind": "constant", "scope": "addItem", "scopeKind": "function"}, {"_type": "tag", "name": "idx", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/stores/cart.ts", "pattern": "/^    const idx = lines.value.findIndex((l) => l.id === id)$/", "language": "TypeScript", "kind": "constant", "scope": "updateQty", "scopeKind": "function"}, {"_type": "tag", "name": "loadPersisted", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/stores/cart.ts", "pattern": "/^function loadPersisted(): State | null {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/stores/cart.ts", "pattern": "/^    const raw = window.localStorage.getItem(STORAGE_KEY)$/", "language": "TypeScript", "kind": "constant", "scope": "loadPersisted", "scopeKind": "function"}, {"_type": "tag", "name": "updateQty", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/stores/cart.ts", "pattern": "/^  function updateQty(id: string, qty: number) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "useCartStore", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/stores/cart.ts", "pattern": "/^export const useCartStore = defineStore('cart', () => {$/", "language": "TypeScript", "kind": "constant"}], "hash": "cfd6ff4dc630641267e6d8f82c80e2e6", "format-version": 4, "code-base-name": "food_ordering_frontend", "filename": "food_ordering_frontend/src/stores/cart.ts"}