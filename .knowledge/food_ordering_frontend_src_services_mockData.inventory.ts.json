{"is_source_file": true, "format": "TypeScript", "description": "This file defines mock inventory data and provides functions to manage restaurant menu items, stock quantities, and availability status within an in-memory store for a food ordering front-end application.", "external_files": ["./mockData", "@/types"], "external_methods": ["getMockItems"], "published": ["inventory", "loadRestaurants", "getStock", "setStock", "autoUpdateAvailability", "withInventoryDefaults"], "classes": [], "methods": [{"name": "export function loadRestaurants(restaurants: Restaurant[]): Restaurant[] { loadRestaurants", "description": "Attaches menus from provided restaurants into the inventory system and initializes stock entries if missing.", "scope": "", "scopeKind": ""}, {"name": "export function getStock(restaurantId: string, itemId: string): number | undefined { getStock", "description": "Returns current stock quantity for a restaurant's item.", "scope": "", "scopeKind": ""}, {"name": "export function setStock(restaurantId: string, itemId: string, qty: number): number { setStock", "description": "Sets stock quantity for a restaurant's item and updates its availability status accordingly.", "scope": "", "scopeKind": ""}, {"name": "export function autoUpdateAvailability(restaurantId: string, itemId: string): AvailabilityStatus/ autoUpdateAvailability", "description": "Determines availability status based on current stock levels and thresholds.", "scope": "", "scopeKind": ""}, {"name": "export function withInventoryDefaults(item: CustomerItem): CustomerItem & { withInventoryDefaults", "description": "Provides default inventory-related fields to a customer item, without mutating original object.", "scope": "", "scopeKind": ""}], "calls": ["getMockItems", "Array.isArray", "withInventoryDefaults", "autoUpdateAvailability"], "search-terms": ["mockData.inventory", "loadRestaurants", "stockStore", "AvailabilityStatus", "public interface", "mock client-only store"], "state": 2, "file_id": 43, "knowledge_revision": 217, "git_revision": "a829a79c940aa2eb4727011aacad93c45471ee1c", "revision_history": [{"167": ""}, {"173": ""}, {"174": ""}, {"211": "791f9e66f557ef246118dcf8e1a9d6366df44311"}, {"216": "791f9e66f557ef246118dcf8e1a9d6366df44311"}, {"217": "a829a79c940aa2eb4727011aacad93c45471ee1c"}], "ctags": [{"_type": "tag", "name": "StockEntry", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/mockData.inventory.ts", "pattern": "/^type StockEntry = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "anyR", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/mockData.inventory.ts", "pattern": "/^    const anyR = r as unknown as { menu?: CustomerItem[] }$/", "language": "TypeScript", "kind": "constant", "scope": "loadRestaurants", "scopeKind": "function"}, {"_type": "tag", "name": "autoUpdateAvailability", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/mockData.inventory.ts", "pattern": "/^export function autoUpdateAvailability(restaurantId: string, itemId: string): AvailabilityStatus/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "availability", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/mockData.inventory.ts", "pattern": "/^  const availability: AvailabilityStatus = (item as any).availability ?? 'in_stock'$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "defaults", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/mockData.inventory.ts", "pattern": "/^        const defaults = withInventoryDefaults(m)$/", "language": "TypeScript", "kind": "constant", "scope": "loadRestaurants", "scopeKind": "function"}, {"_type": "tag", "name": "e", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/mockData.inventory.ts", "pattern": "/^  const e = stockStore[restaurantId]?.[itemId]$/", "language": "TypeScript", "kind": "constant", "scope": "autoUpdateAvailability", "scopeKind": "function"}, {"_type": "tag", "name": "entry", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/mockData.inventory.ts", "pattern": "/^  const entry = stockStore[restaurantId][itemId] ?? {$/", "language": "TypeScript", "kind": "constant", "scope": "setStock", "scopeKind": "function"}, {"_type": "tag", "name": "entry", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/mockData.inventory.ts", "pattern": "/^  entry.qty = Math.max(0, Math.floor(qty))$/", "language": "TypeScript", "kind": "constant", "scope": "setStock", "scopeKind": "function"}, {"_type": "tag", "name": "existing", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/mockData.inventory.ts", "pattern": "/^      const existing = stockStore[r.id][m.id]$/", "language": "TypeScript", "kind": "constant", "scope": "loadRestaurants", "scopeKind": "function"}, {"_type": "tag", "name": "getStock", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/mockData.inventory.ts", "pattern": "/^export function getStock(restaurantId: string, itemId: string): number | undefined {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "inventory", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/mockData.inventory.ts", "pattern": "/^export const inventory: FoodItem[] = getMockItems({}) as FoodItem[]$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "itemId", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/mockData.inventory.ts", "pattern": "/^  const entry = stockStore[restaurantId][itemId] ?? {$/", "language": "TypeScript", "kind": "constant", "scope": "setStock", "scopeKind": "function"}, {"_type": "tag", "name": "loadRestaurants", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/mockData.inventory.ts", "pattern": "/^export function loadRestaurants(restaurants: Restaurant[]): Restaurant[] {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "lowStockThreshold", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/mockData.inventory.ts", "pattern": "/^  const lowStockThreshold = typeof (item as any).lowStockThreshold === 'number' ? (item as any)./", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "m", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/mockData.inventory.ts", "pattern": "/^      const existing = stockStore[r.id][m.id]$/", "language": "TypeScript", "kind": "constant", "scope": "loadRestaurants", "scopeKind": "function"}, {"_type": "tag", "name": "menu", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/mockData.inventory.ts", "pattern": "/^    const menu = Array.isArray(anyR.menu) ? anyR.menu : undefined$/", "language": "TypeScript", "kind": "constant", "scope": "loadRestaurants", "scopeKind": "function"}, {"_type": "tag", "name": "qty", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/mockData.inventory.ts", "pattern": "/^    qty: 0,$/", "language": "TypeScript", "kind": "constant", "scope": "setStock", "scopeKind": "function"}, {"_type": "tag", "name": "r", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/mockData.inventory.ts", "pattern": "/^      const existing = stockStore[r.id][m.id]$/", "language": "TypeScript", "kind": "constant", "scope": "loadRestaurants", "scopeKind": "function"}, {"_type": "tag", "name": "restaurantId", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/mockData.inventory.ts", "pattern": "/^  const e = stockStore[restaurantId]?.[itemId]$/", "language": "TypeScript", "kind": "constant", "scope": "autoUpdateAvailability", "scopeKind": "function"}, {"_type": "tag", "name": "restaurantId", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/mockData.inventory.ts", "pattern": "/^  const entry = stockStore[restaurantId][itemId] ?? {$/", "language": "TypeScript", "kind": "constant", "scope": "setStock", "scopeKind": "function"}, {"_type": "tag", "name": "setStock", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/mockData.inventory.ts", "pattern": "/^export function setStock(restaurantId: string, itemId: string, qty: number): number {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "stockQuantity", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/mockData.inventory.ts", "pattern": "/^  const stockQuantity =  typeof (item as any).stockQuantity === 'number' ? (item as any).stockQu/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "stockStore", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/mockData.inventory.ts", "pattern": "/^const stockStore: Record<string, Record<string, StockEntry>> = {}$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "withInventoryDefaults", "path": "/home/kavia/workspace/code-generation/easy-food-order-221713-221722/food_ordering_frontend/src/services/mockData.inventory.ts", "pattern": "/^export function withInventoryDefaults(item: CustomerItem): CustomerItem & {$/", "language": "TypeScript", "kind": "function"}], "hash": "8c681e04cf6784286794a21f8bde7f1a", "format-version": 4, "code-base-name": "food_ordering_frontend", "filename": "food_ordering_frontend/src/services/mockData.inventory.ts"}